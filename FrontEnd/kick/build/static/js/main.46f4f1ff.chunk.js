(this.webpackJsonpkick=this.webpackJsonpkick||[]).push([[0],{103:function(e,t,a){},108:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),l=a.n(o),c=(a(103),a(5)),s=a(6),i=a(8),m=a(7),u=a(17),h=a(13),p=a(20),d=(a(108),a(109),a(36)),g=a.n(d),f=a(143),E=a(142),b=a(134),v=a(78),y=a.n(v),C=a(79),k=a.n(C),O=a(18),w=Object(O.a)(),j=a(80),U=a.n(j).a.create({baseURL:"https://quiet-inlet-83310.herokuapp.com/",headers:{Authorization:localStorage.Authorization,"Content-Type":"application/json"}});function S(){return{type:"LOGOUT"}}function I(e,t){return function(a){a({type:"LOGGING IN"}),U({method:"post",url:"/login",data:{username:e,password:t},headers:{}}).then((function(t){console.log(t),a({type:"LOGIN SUCCESSFUL"}),localStorage.setItem("user",e),localStorage.setItem("Authorization",t.headers.authorization),w.push("/"),window.location.reload(!0)})).catch((function(e){console.log(e),a({type:"LOGIN FAILED"})}))}}var N=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSignOut=function(){e.props.logout()},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(f.a,{bg:"light",expand:"lg",fixed:"top"},r.a.createElement(f.a.Brand,{href:"/"},r.a.createElement("img",{src:g.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"Kick logo"})," ","Kick"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(E.a,null,r.a.createElement(E.a.Link,{href:"/message"},"Message")),r.a.createElement(E.a,null,r.a.createElement(E.a.Link,{href:"/explore"},"Explore")),r.a.createElement(E.a,null,r.a.createElement(E.a.Link,{href:"/search"},"Search")),r.a.createElement(E.a,null,r.a.createElement(E.a.Link,{href:"/create-post"},"Create Post")),r.a.createElement(E.a,{className:"ml-auto"},r.a.createElement(f.a.Brand,{href:"/user/".concat(this.props.meUser.username)},r.a.createElement("img",{src:y.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"User profile"})),r.a.createElement(f.a.Brand,{href:"/settings"},r.a.createElement("img",{src:k.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"Settings"})),r.a.createElement(b.a,{onClick:this.props.logout},"Sign Out"))))}}]),a}(n.Component),F={logout:S},L=Object(p.b)((function(e){return{loggedIn:e.loggedIn}}),F)(N),R=a(21),P=a(66),A=a(84),D=a(136),G=a(52),T=a(135),x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{fluid:!0},r.a.createElement(D.a,null,r.a.createElement(A.a,{lg:"3"}),this.props.leftComponent?this.props.leftComponent:r.a.createElement(r.a.Fragment,null),r.a.createElement(A.a,{lg:"6"},this.props.middleComponent?this.props.middleComponent:r.a.createElement(r.a.Fragment,null)),r.a.createElement(A.a,{lg:"3",className:"Sidebar sticky-top"},this.props.rightComponent?this.props.rightComponent:r.a.createElement(r.a.Fragment,null)))))}}]),a}(n.Component),M=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={image:"",caption:"",city:"",country:""},e.handleFileSubmit=function(t){t.preventDefault(),e.setState({image:URL.createObjectURL(t.target.files[0])})},e.onChange=function(t){return e.setState(Object(R.a)({},t.target.name,t.target.value))},e.onPostSubmit=function(t){t.preventDefault();var a={caption:e.state.caption,imageURL:"inDevelopment.com",city:e.state.city,country:e.state.country,postDate:new Date};U({method:"post",url:"api/posts",data:a}).then((function(e){console.log("response",e),w.push("/"),window.location.reload(!0)})).catch((function(t){console.log(t),e.props.handleLogout()}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.caption,a=e.city,n=e.country;return r.a.createElement(x,{middleComponent:r.a.createElement(P.a,null,r.a.createElement(A.a,null,r.a.createElement(D.a,{xs:"6",md:"3",lg:"1"},r.a.createElement(P.a.Group,{controlId:"formImage"},r.a.createElement(G.a,{src:this.state.image,roundedCircle:!0,fluid:!0}))),r.a.createElement(D.a,null,r.a.createElement(P.a.Group,{controlId:"formFile"},r.a.createElement(P.a.File,{id:"formFileImageUpload",label:"Upload a local image",onChange:this.handleFileSubmit,type:"file",accept:".jpg, .png, .jpeg"}))),r.a.createElement(D.a,null,r.a.createElement(P.a.Group,{controlId:"formCaption"},r.a.createElement(P.a.Label,null,"Caption"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Enter a caption",name:"caption",value:t,onChange:this.onChange}))),r.a.createElement(D.a,null,r.a.createElement(P.a.Group,{controlId:"formLocation"},r.a.createElement(P.a.Label,null,"Location"),r.a.createElement(D.a,null,r.a.createElement(A.a,null,r.a.createElement(P.a.Control,{type:"text",placeholder:"City",name:"city",value:a,onChange:this.onChange})),r.a.createElement(A.a,null,r.a.createElement(P.a.Control,{type:"text",placeholder:"Country",name:"country",value:n,onChange:this.onChange}))))),r.a.createElement(D.a,null,r.a.createElement(b.a,{variant:"primary",type:"submit",onClick:this.onPostSubmit},"Post"))))})}}]),a}(n.Component),B=a(137),z=a(145),K=a(87),V=a(51),W=a(85),H=a.n(W),q=a(53),J=a.n(q),Y=a(86),$=a.n(Y),_=a(39),Q=a.n(_),X=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={comment:""},e.onLike=function(){e.props.liked?e.props.handleUserUnLiked(e.props.post.id):e.props.handleUserLiked(e.props.post.id)},e.onCommentChange=function(t){e.setState({comment:t.target.value})},e.onCommentSubmit=function(t){t.preventDefault(),console.log(e.state.comment),e.props.handleUserCommented(e.props.post.id,e.state.comment)},e.setComments=function(){var t=e.props.post.comments,a=[""];return 0!==t.length&&(a=[t[t.length-1].username+" : "+t[t.length-1].comment]),a},e.onDeleteSubmit=function(t){t.preventDefault(),console.log(e.state.comment),e.props.handleUserDeleted(e.props.post.id)},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(z.a,null,r.a.createElement(z.a.Header,null,r.a.createElement(u.b,{to:"/user/".concat(this.props.post.username)},this.props.post.username),"    ",this.props.myPost?r.a.createElement(b.a,{variant:"danger",className:"ml-auto float-right",onClick:this.onDeleteSubmit},"Delete post"):r.a.createElement(r.a.Fragment,null)),r.a.createElement(z.a.Img,{variant:"top",src:Q.a}),r.a.createElement(z.a.Body,null,r.a.createElement(b.a,{variant:"link",onClick:this.onLike},this.props.liked?r.a.createElement(G.a,{src:J.a,alt:""}):r.a.createElement(G.a,{src:H.a,alt:""})),r.a.createElement(u.b,{to:"/comment/".concat(this.props.post.id)},r.a.createElement("img",{src:$.a,alt:"comments"})),r.a.createElement(z.a.Title,null,this.props.post.likes.length," likes"),r.a.createElement(z.a.Title,null,this.props.post.username+" : "+this.props.post.caption),this.setComments().map((function(e,t){return r.a.createElement(z.a.Text,{key:t},e)})),r.a.createElement(z.a.Subtitle,{className:"mb-2 text-muted"},this.props.post.city,", ",this.props.post.country),r.a.createElement("footer",null,this.props.post.postDate)),r.a.createElement(K.a,{className:"mb-3"},r.a.createElement(V.a,{placeholder:"Add a comment...","aria-label":"Comment","aria-describedby":"basic-addon2",onChange:this.onCommentChange}),r.a.createElement(K.a.Append,null,r.a.createElement(b.a,{variant:"outline-secondary",onClick:this.onCommentSubmit},"Post"))))}}]),a}(n.Component),Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).createFeed=function(){n.state.page>=n.state.totalPages||U({method:"get",url:n.props.feedURL+"page=".concat(n.state.page,"&size=10")}).then((function(e){console.log("create feed response",e);var t=e.data.content;return n.setState({feed:n.state.feed.concat(t)}),n.setState({totalPages:e.data.totalPages}),n.setState({page:n.state.page+1}),"Not following or public"===e.data&&n.setState({noPost:!0}),t})).then((function(e){var t=e.map((function(e){return n.handleWhichUserLiked(e)}));Promise.all(t).then((function(e){var t=e.map((function(e){return e.data}));n.setState({liked:n.state.liked.concat(t)})}))})).catch((function(e){console.log(e)}))},n.handleWhichUserLiked=function(e){return U({method:"get",url:"api/posts/".concat(e.id,"/liked")})},n.handlePostUpdated=function(e,t,a){var r=n.state.feed,o=n.state.liked,l=0,c=r.map((function(a,n){return a.id===t?(console.log("mathicng postId",t),console.log("matching index",n),l=n,e):a}));"comment"!==a&&(o[l]=a),n.setState({feed:c}),n.setState({liked:o})},n.handleUserLiked=function(e){U({method:"post",url:"api/posts/".concat(e,"/likePosts")}).then((function(t){n.handlePostUpdated(t.data,e,!0)}))},n.handleUserUnLiked=function(e){U({method:"delete",url:"api/posts/".concat(e,"/likePosts")}).then((function(t){n.handlePostUpdated(t.data,e,!1)}))},n.handleUserCommented=function(e,t){U({method:"post",url:"api/posts/".concat(e,"/commentPosts"),data:t}).then((function(t){n.handlePostUpdated(t.data,e,"comment")}))},n.handleUserDeleted=function(e){U({method:"delete",url:"api/posts/".concat(e)}).then((function(){window.location.reload(!0)}))},n.handleScroll=function(e){document.getElementById("feed").getBoundingClientRect().bottom<=window.innerHeight+1&&n.createFeed()},n.state={feed:[],liked:[],privateProfile:!1,page:0,totalPages:1},n.createFeed(),n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props!==e&&this.setState({page:0,totalPages:1,feed:[],liked:[],privateProfile:!1},this.createFeed)}},{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this;return console.log("Feed",this.state.feed),r.a.createElement("div",{onScroll:this.handleScroll,id:"feed"},this.state.feed&&void 0!=this.state.feed[0]?this.state.feed.map((function(t,a){return r.a.createElement(X,{key:t.id,id:t.id,post:t,liked:e.state.liked[a],handleUserCommented:e.handleUserCommented,handleUserLiked:e.handleUserLiked,handleUserUnLiked:e.handleUserUnLiked,handleUserDeleted:e.handleUserDeleted,myPost:e.props.myPosts})})):this.state.feed?r.a.createElement("h1",{className:"center"},"No Posts"):r.a.createElement("h1",{className:"center"},"Private profile"),this.state.page<this.state.totalPages?r.a.createElement("div",{className:"center"},r.a.createElement(B.a,{animation:"border",variant:"primary"}),r.a.createElement(B.a,{animation:"border",variant:"secondary"}),r.a.createElement(B.a,{animation:"border",variant:"success"}),r.a.createElement(B.a,{animation:"border",variant:"danger"}),r.a.createElement(B.a,{animation:"border",variant:"warning"}),r.a.createElement(B.a,{animation:"border",variant:"info"}),r.a.createElement(B.a,{animation:"border",variant:"light"}),r.a.createElement(B.a,{animation:"border",variant:"dark"})):r.a.createElement(r.a.Fragment,null))}}]),a}(n.Component),ee=a(67),te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).convertTime=function(e){var t=Math.abs(e-new Date)/864e5;return t<1?"Today":Math.floor(t)+"days ago"},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.convertTime(this.props.time))}}]),a}(n.Component),ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={show:!0},e.handleClose=function(){e.setState({show:!1}),U({method:"delete",url:"/api/likeNotifications/single/".concat(e.props.notification.thePostId)}).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.a,{show:this.state.show,onClose:this.handleClose},r.a.createElement(ee.a.Header,null,r.a.createElement("img",{src:J.a,className:"rounded mr-2",alt:""}),r.a.createElement("strong",{className:"mr-auto"},r.a.createElement(u.b,{to:"/user/".concat(this.props.notification.userLiked)},this.props.notification.userLiked)," ","liked your"," ",r.a.createElement(u.b,{to:"/post/".concat(this.props.notification.thePostId)},"post")),r.a.createElement("small",null,r.a.createElement(te,{time:this.props.notification.time}))))}}]),a}(n.Component),ne=a(88),re=a.n(ne),oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={show:!0},e.handleClose=function(){e.setState({show:!1}),e.deleteCall()},e.deleteCall=function(){U({method:"delete",url:"/api/followingNotifications/single/".concat(e.props.notification.id)}).catch((function(e){console.log(e)}))},e.handleAccept=function(){e.setState({show:!1}),U({method:"post",url:"/api/followings/".concat(e.props.notification.theFollowingId,"/true")}).then((function(){e.deleteCall()})).catch((function(e){console.log(e)}))},e.handleDelete=function(){e.setState({show:!1}),e.deleteCall()},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(ee.a,{show:this.state.show,onClose:this.handleClose},r.a.createElement(ee.a.Header,null,r.a.createElement("img",{src:re.a,className:"rounded mr-2",alt:""}),r.a.createElement("strong",{className:"mr-auto"},r.a.createElement(u.b,{to:"/user/".concat(this.props.notification.following)},this.props.notification.following)," ","wants to follow you"),r.a.createElement("small",null,r.a.createElement(te,{time:this.props.notification.time}))),r.a.createElement(ee.a.Body,null,r.a.createElement(D.a,null,r.a.createElement(A.a,{align:"right"},r.a.createElement(b.a,{onClick:this.handleAccept,size:"sm"},"Accept")),r.a.createElement(A.a,{align:"left"},r.a.createElement(b.a,{onClick:this.handleDelete,variant:"outline-warning",size:"sm"},"Delete")))))}}]),a}(n.Component),le=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={likeNotifications:[],followingNotifications:[]},e.createNotifications=function(){if(0===e.state.likeNotifications.length&&0===e.state.followingNotifications.length)return r.a.createElement("div",{className:"center"},"No Notifications");var t=e.state.likeNotifications.map((function(e,t){return r.a.createElement(ae,{key:t,notification:e})})),a=e.state.followingNotifications.map((function(e,a){return r.a.createElement(oe,{key:a+t.length,notification:e})})),n=function(e,t){return e.time<t.time?-1:e.time===t.time?0:1};return t.sort(n),a.sort(n),a.concat(t)},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.meUser!==e.meUser&&(console.log("dashboard props",this.props.meUser),this.setState({likeNotifications:this.props.meUser.likeNotifications}),this.setState({followingNotifications:this.props.meUser.followingNotifications}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"sticky-top overflow-auto"},r.a.createElement("h3",{className:"center"},"Notifications"),this.createNotifications())}}]),a}(n.Component),ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{fluid:!0},r.a.createElement(D.a,null,r.a.createElement(A.a,{lg:"3"}),r.a.createElement(A.a,{lg:"6"},r.a.createElement(Z,{feedURL:"api/posts/feed?"})),r.a.createElement(A.a,{lg:"3",className:"Sidebar sticky-top"},r.a.createElement(le,{meUser:this.props.meUser})))))}}]),a}(n.Component),se=a(63),ie=a.n(se),me=a(89),ue=a(32),he=a(138),pe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n.handleAuthentication=n.handleAuthentication.bind(Object(ue.a)(n)),n.handleChange=n.handleChange.bind(Object(ue.a)(n)),n}return Object(s.a)(a,[{key:"handleAuthentication",value:function(){var e=Object(me.a)(ie.a.mark((function e(t){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.props.login(this.state.username,this.state.password);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.value;this.setState(Object(R.a)({},e.target.name,t))}},{key:"componentDidMount",value:function(){this.props.registered||this.props.resetRegistration()}},{key:"render",value:function(){return r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:g.a,width:"30",height:"30",className:"align-baseline",alt:"Kick logo"})," ",r.a.createElement("span",{className:"large-text"},"Kick"),r.a.createElement("p",{className:"italic"},r.a.createElement("small",null,"Make sharing easier")),r.a.createElement("div",{className:"sign-in-border"},r.a.createElement(P.a,null,r.a.createElement(P.a.Group,null,this.props.registered?r.a.createElement(he.a,{variant:"success"},"Registration successful, login!"):r.a.createElement(r.a.Fragment,null)),r.a.createElement(P.a.Group,{controlId:"formBasicUsername"},r.a.createElement(P.a.Control,{type:"username",placeholder:"Username",onChange:this.handleChange,name:"username"})),r.a.createElement(P.a.Group,{controlId:"formBasicPassword"},r.a.createElement(P.a.Control,{type:"password",placeholder:"Password",onChange:this.handleChange,name:"password"})),r.a.createElement(P.a.Group,{controlId:"formErrorNotification"},!0===this.props.error?r.a.createElement(P.a.Text,{className:"text-muted"},"The username or password you provided was incorrect"):r.a.createElement(r.a.Fragment,null)),r.a.createElement(b.a,{variant:"primary",type:"submit",onClick:this.handleAuthentication},"Submit"))),r.a.createElement(E.a,{className:"justify-content-center",activeKey:"/register"},r.a.createElement(E.a.Item,null,r.a.createElement(E.a.Link,{href:"/register"},"Don't have an account? Create one!"))))})}}]),a}(n.Component),de={login:I,resetRegistration:function(){return{type:"REGISTER RESET"}}},ge=Object(p.b)((function(e){return{loggedIn:e.loggedIn,error:e.error,registered:e.registered}}),de)(pe),fe=a(97),Ee=function(e){var t=e.component,a=Object(fe.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},a,{render:function(e){return localStorage.Authorization?r.a.createElement(t,Object.assign({},a,e)):r.a.createElement(h.a,{to:{pathname:"/sign-in",state:{from:e.location}}})}}))},be=a(11);function ve(e){return e.includes("@")&&e.includes(".")&&e.indexOf(".")>e.indexOf("@")?"":(console.log("email bad"),"a valid email format")}function ye(e){return/\d/.test(e)&&/[~`!@#$%^&*+=\-[\]\\';,/{}|\\":<>?]/g.test(e)&&/[a-z]/.test(e)&&e.length>7&&e.length<21?"":(console.log("password bad"),"a valid password")}var Ce=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",email:"",firstName:"",lastName:"",city:"",country:"",privateProfile:!1,error:!1,missingValue:""},e.handleRegistration=function(t){t.preventDefault();var a=Object(be.a)({},e.state);delete a.error,delete a.missingValue;var n=ve(a.email);if(""===n)if(""===(n=ye(a.password))){for(var r in a)if(""===a[r])return void e.setState({missingValue:r});console.log("missing value",e.state.missingValue),e.props.register(a)}else e.setState({missingValue:n});else e.setState({missingValue:n})},e.handleChange=function(t){var a=t.target.value;e.setState(Object(R.a)({},t.target.name,a))},e.handleChecked=function(t){var a=t.target.checked;e.setState(Object(R.a)({},t.target.name,a))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.resetLogin()}},{key:"render",value:function(){return r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:g.a,width:"30",height:"30",className:"align-baseline",alt:"Kick logo"})," ",r.a.createElement("span",{className:"large-text"},"Kick"),r.a.createElement("div",{className:"sign-in-border"},r.a.createElement(P.a,null,r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Group,{as:A.a,controlId:"formGridUsername"},r.a.createElement(P.a.Control,{type:"username",placeholder:"Username",onChange:this.handleChange,name:"username"}))),r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Group,{as:A.a,controlId:"formGridPassword"},r.a.createElement(P.a.Control,{type:"password",placeholder:"Password",onChange:this.handleChange,name:"password"}),r.a.createElement(P.a.Text,{className:"text-muted"},"Password must be 8-20 characters. Include numbers, letters, and special characters."))),this.props.errorUsername?r.a.createElement(he.a,{variant:"danger"},r.a.createElement("p",{className:"italic mb-0"},"This username has already been chosen")):r.a.createElement(r.a.Fragment,null),r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Group,{as:A.a,controlId:"formGridEmail"},r.a.createElement(P.a.Control,{type:"email",placeholder:"Email",onChange:this.handleChange,name:"email"}))),this.props.errorEmail?r.a.createElement(he.a,{variant:"danger"},r.a.createElement("p",{className:"italic mb-0"},"This email has already been associated with an account")):r.a.createElement(r.a.Fragment,null),r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Group,{as:A.a,controlId:"formGridFirstName"},r.a.createElement(P.a.Control,{type:"firstName",placeholder:"First name",onChange:this.handleChange,name:"firstName"})),r.a.createElement(P.a.Group,{as:A.a,controlId:"formGridLastName"},r.a.createElement(P.a.Control,{type:"lastName",placeholder:"Last name",onChange:this.handleChange,name:"lastName"}))),r.a.createElement(P.a.Row,null,r.a.createElement(P.a.Group,{as:A.a,controlId:"formGridCity"},r.a.createElement(P.a.Control,{type:"city",placeholder:"City",onChange:this.handleChange,name:"city"})),r.a.createElement(P.a.Group,{as:A.a,controlId:"formGridCountry"},r.a.createElement(P.a.Control,{type:"country",placeholder:"Country",onChange:this.handleChange,name:"country"}))),r.a.createElement(P.a.Group,{id:"formGridPrivate"},r.a.createElement(P.a.Check,{type:"checkbox",label:"Set privateProfile account",onChange:this.handleChecked,name:"privateProfile"})),this.props.errorRegister?r.a.createElement(he.a,{variant:"danger"},r.a.createElement("p",{className:"italic mb-0 center"},"An error has occurred")):r.a.createElement(r.a.Fragment,null),this.state.missingValue?r.a.createElement(he.a,{variant:"danger"},r.a.createElement("p",{className:"italic mb-0 center"},this.state.missingValue," is required")):r.a.createElement(r.a.Fragment,null),r.a.createElement(b.a,{variant:"primary",type:"submit",onClick:this.handleRegistration},"Register!"))),r.a.createElement(E.a,{className:"justify-content-center",activeKey:"/sign-in"},r.a.createElement(E.a.Item,null,r.a.createElement(E.a.Link,{href:"/sign-in"},"Already an account? Log in!"))))})}}]),a}(n.Component),ke={register:function(e){return function(t){t({type:"REGISTERING"}),U({method:"post",url:"/api/applicationUsers/sign-up",data:JSON.stringify(e),headers:{}}).then((function(e){console.log(e),t({type:"REGISTER SUCCESSFUL"}),w.push("/sign-in"),window.location.reload(!0)})).catch((function(e){console.log(e),e.response?"Username was already taken"===e.response.data.error?t({type:"REGISTER FAILED DUE TO USERNAME"}):"Email was already taken"===e.response.data.error?t({type:"REGISTER FAILED DUE TO EMAIL"}):t({type:"REGISTRATION FAILED"}):t({type:"REGISTRATION FAILED"})}))}},resetLogin:function(){return{type:"LOGIN RESET"}}},Oe=Object(p.b)((function(e){return{errorRegister:e.errorRegister,errorUsername:e.errorUsername,errorEmail:e.errorEmail}}),ke)(Ce),we=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Explore"),r.a.createElement(Z,{feedURL:"/api/posts/explore?"}))})}}]),a}(n.Component),je=a(144),Ue=a(90),Se=a.n(Ue),Ie=function(e){return r.a.createElement(je.a,{className:"center"},r.a.createElement(je.a.Image,{width:30,height:30,alt:"171x180",src:Se.a}),r.a.createElement(je.a.Caption,{className:"figure-caption text-center"},e.description," are currently under construction"))},Ne=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Message"),r.a.createElement("div",{className:"center"},r.a.createElement(Ie,{description:"Messages"})))})}}]),a}(n.Component),Fe=a(139),Le=a(140),Re=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={following:"not following",influencerCount:0,followingCount:0},e.checkFollowerCount=function(){U({method:"get",url:"/api/applicationUsers/followingCount/".concat(e.props.user.username)}).then((function(t){e.setState({followingCount:t.data})})).catch((function(e){console.log(e)}))},e.checkInfluencerCount=function(){U({method:"get",url:"/api/applicationUsers/influencerCount/".concat(e.props.user.username)}).then((function(t){e.setState({influencerCount:t.data})})).catch((function(e){console.log(e)}))},e.checkFollowing=function(){U({method:"get",url:"/api/followings/check/".concat(e.props.user.username)}).then((function(t){e.setState({following:t.data})})).catch((function(e){console.log(e)}))},e.handleFollow=function(){U({method:"post",url:"/api/followings/".concat(e.props.user.username)}).then((function(){e.checkFollowing()})).catch((function(e){console.log(e)}))},e.handleDeleteFollow=function(){U({method:"delete",url:"/api/followings/follower/deleting/influencer/".concat(e.props.meUsername,"/").concat(e.props.user.username)}).then((function(){e.checkFollowing()})).catch((function(e){console.log(e)}))},e.createFollowingBanner=function(){return e.props.meUsername===e.props.user.username?r.a.createElement(Fe.a,{pill:!0,variant:"primary"},"You!"):"following"===e.state.following?r.a.createElement(b.a,{onClick:e.handleDeleteFollow,size:"sm"},"UnFollow"):"requested following"===e.state.following?r.a.createElement(b.a,{className:"mb-0",onClick:e.handleDeleteFollow,size:"sm"},"Cancel follow request"):r.a.createElement(b.a,{onClick:e.handleFollow,size:"sm"},"Follow")},e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.checkFollowing(),this.checkFollowerCount(),this.checkInfluencerCount()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&(this.checkFollowing(),this.checkFollowerCount(),this.checkInfluencerCount())}},{key:"render",value:function(){var e="Followers";return this.props.user.whereIsInfluencer&&1===this.props.user.whereIsInfluencer.length&&(e="Follower"),r.a.createElement(Le.a,null,r.a.createElement(G.a,{src:Q.a,width:"75",height:"75",className:"d-inline-block center",alt:"React Bootstrap logo"}),r.a.createElement(u.b,{to:"/user/".concat(this.props.user.username)},this.props.user.username),"    ",this.props.user.privateProfile?r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{pill:!0,variant:"warning"},"Private")):r.a.createElement(Fe.a,{pill:!0,variant:"success"},"Public"),"    ",this.createFollowingBanner(),r.a.createElement("div",null,this.props.user.city,", ",this.props.user.country),r.a.createElement(T.a,null,r.a.createElement(D.a,null,r.a.createElement(A.a,{align:"right"},"following"===this.state.following&&this.props.user.whereIsInfluencer?r.a.createElement(u.b,{to:"/followers/".concat(this.props.user.username)},this.state.followingCount," ",e):r.a.createElement(r.a.Fragment,null,this.state.followingCount," ",e)),r.a.createElement(A.a,{align:"left"},"following"===this.state.following&&this.props.user.whereIsFollower?r.a.createElement(u.b,{to:"/influencers/".concat(this.props.user.username)},this.state.influencerCount," Following"):r.a.createElement(r.a.Fragment,null,this.state.influencerCount," Following")))),r.a.createElement("hr",{className:"hr-line"}),r.a.createElement("p",{className:"less-margin"},r.a.createElement("b",null,this.props.user.firstName," ",this.props.user.lastName)),r.a.createElement("p",{className:"less-margin"},this.props.user.biography))}}]),a}(n.Component),Pe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).createFeed=function(){n.state.page>=n.state.totalPages?console.log("reached end of user feed"):U({method:"get",url:n.props.feedURL+"page=".concat(n.state.page,"&size=10")}).then((function(e){var t=e.data.content;n.setState({feed:n.state.feed.concat(t),totalPages:e.data.totalPages,page:n.state.page+1})})).catch((function(e){console.log(e)}))},n.handleScroll=function(e){document.getElementById("feed").getBoundingClientRect().bottom<=window.innerHeight+1&&n.createFeed()},n.state={feed:[],page:0,totalPages:1},n.createFeed(),n}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.feedURL!==e.feedURL&&this.setState({feed:[],page:0,totalPages:1},this.createFeed)}},{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this;return console.log("User feed state",this.state),r.a.createElement("div",{onScroll:this.handleScroll,id:"feed"},this.state.feed.map((function(t){return r.a.createElement(Re,{user:t,meUsername:e.props.meUser.username})})),this.state.page<this.state.totalPages?r.a.createElement("div",{className:"center"},r.a.createElement(B.a,{animation:"border",variant:"primary"}),r.a.createElement(B.a,{animation:"border",variant:"secondary"}),r.a.createElement(B.a,{animation:"border",variant:"success"}),r.a.createElement(B.a,{animation:"border",variant:"danger"}),r.a.createElement(B.a,{animation:"border",variant:"warning"}),r.a.createElement(B.a,{animation:"border",variant:"info"}),r.a.createElement(B.a,{animation:"border",variant:"light"}),r.a.createElement(B.a,{animation:"border",variant:"dark"})):r.a.createElement(r.a.Fragment,null))}}]),a}(n.Component),Ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:"",selectedOption:"userToggle"},e.searchTerm=function(e){return"?search="+e},e.onChange=function(t){e.setState(Object(R.a)({},t.target.name,t.target.value))},e.onRadioToggle=function(t){e.setState({selectedOption:t.target.value})},e}return Object(s.a)(a,[{key:"render",value:function(){return console.log("Search",this.state.search),r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:"sticky-top"},r.a.createElement(K.a,{className:"mb-3"},r.a.createElement(V.a,{placeholder:"Search...",name:"search",onChange:this.onChange,value:this.state.search}))),r.a.createElement(D.a,null,r.a.createElement(A.a,{align:"right"},r.a.createElement(P.a.Check,{label:"Users",type:"radio",id:"user-radio",value:"userToggle",onChange:this.onRadioToggle,checked:"userToggle"===this.state.selectedOption})),r.a.createElement(A.a,{align:"left"},r.a.createElement(P.a.Check,{label:"Posts",type:"radio",id:"post-radio",value:"postToggle",onChange:this.onRadioToggle,checked:"postToggle"===this.state.selectedOption}))),""!==this.state.search&"postToggle"===this.state.selectedOption?r.a.createElement(Z,{feedURL:"/api/posts/search?search=".concat(this.state.search,"&")}):r.a.createElement(r.a.Fragment,null),""!==this.state.search&"userToggle"===this.state.selectedOption?r.a.createElement(Pe,{feedURL:"/api/applicationUsers/search?search=username:*".concat(this.state.search,"*&"),meUser:this.props.meUser}):r.a.createElement(r.a.Fragment,null))})}}]),a}(n.Component),De=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;U({method:"get",url:"/api/applicationUsers/username/".concat(this.props.match.params.username)}).then((function(t){console.log("user profile fetch",t),e.setState({user:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,{user:this.state.user,meUsername:this.props.meUser.username}),r.a.createElement(Z,{feedURL:"/api/posts/user/"+this.props.match.params.username+"?",myPosts:this.props.match.params.username===this.props.meUser.username}))})}}]),a}(n.Component),Ge=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(x,{middleComponent:r.a.createElement(Pe,{feedURL:"/api/followings/followers/".concat(this.props.match.params.username,"?"),meUser:this.props.meUser})})}}]),a}(n.Component),Te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(x,{middleComponent:r.a.createElement(Pe,{feedURL:"/api/followings/influencers/".concat(this.props.match.params.username,"?"),meUser:this.props.meUser})})}}]),a}(n.Component),xe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={post:[],liked:!1},e.getPost=function(){U({method:"get",url:"/api/posts/".concat(e.props.match.params.postId)}).then((function(t){e.setState({post:t.data}),U({method:"get",url:"api/posts/".concat(t.data.id,"/liked")}).then((function(t){e.setState({liked:t.data})}))})).catch((function(e){console.log(e)}))},e.handleUserLiked=function(t){U({method:"post",url:"api/posts/".concat(t,"/likePosts")}).then((function(t){e.setState({post:t.data}),e.setState({liked:!0})}))},e.handleUserUnLiked=function(t){U({method:"delete",url:"api/posts/".concat(t,"/likePosts")}).then((function(t){e.setState({post:t.data}),e.setState({liked:!1})}))},e.handleUserCommented=function(t,a){U({method:"post",url:"api/posts/".concat(t,"/commentPosts"),data:a}).then((function(t){e.setState({post:t.data})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.getPost()}},{key:"render",value:function(){console.log("Post page",this.state.post),console.log("Post page likes",this.state.liked);var e=this.state.post,t=this.state.liked;return 0!==this.state.post.length?r.a.createElement(x,{middleComponent:r.a.createElement(X,{key:e.id,id:e.id,post:e,liked:t,handleUserCommented:this.handleUserCommented,handleUserLiked:this.handleUserLiked,handleUserUnLiked:this.handleUserUnLiked})}):r.a.createElement(r.a.Fragment,null)}}]),a}(n.Component),Me=function(e){return r.a.createElement(P.a,null,r.a.createElement(P.a.Row,{className:"align-items-center"},r.a.createElement(A.a,{className:"mb-2"},"Change ",e.description),r.a.createElement(A.a,null,r.a.createElement(P.a.Label,{htmlFor:"inlineFormInputGroup",srOnly:!0}),r.a.createElement(K.a,{className:"mb-2"},r.a.createElement(V.a,{id:e.description,placeholder:e.current,type:e.description,name:e.description,onChange:e.handleChange}))),r.a.createElement(A.a,{className:"mb-2"},r.a.createElement(b.a,{type:"submit",onClick:function(t){return e.handleSubmit(t,e.description)}},"Submit"))))},Be=a(141),ze=function(e){return r.a.createElement(Be.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(Be.a.Header,null,r.a.createElement(Be.a.Title,{id:"contained-modal-title-vcenter"},"Are you sure you want to delete your account?")),r.a.createElement(Be.a.Body,null,r.a.createElement("p",null,"Warning: deleting your account is permanent. You will not be able to recover your account after deleting.")),r.a.createElement(Be.a.Footer,null,r.a.createElement(b.a,{variant:"danger",onClick:e.onDelete},"Delete account"),r.a.createElement(b.a,{variant:"secondary",onClick:e.onClose},"Cancel")))},Ke=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",email:"",city:"",country:"",privateProfile:!1,success:"",error:"",popup:!1},e.changeAttr=function(t,a){if(t.preventDefault(),""!==a){if("password"===a){var n=ye(e.state[a]);if(""!==n)return void e.setState({error:n})}if("email"===a){var r=ve(e.state[a]);if(""!==r)return void e.setState({error:r})}U({method:"put",url:"/api/applicationUsers/".concat(a),data:e.state[a],headers:{}}).then((function(t){e.setState({success:a,error:""}),console.log("setting state","success"),"username"!==a&&"password"!==a?e.props.handleChange():setTimeout(function(){this.props.logout()}.bind(Object(ue.a)(e)),1e3)})).catch((function(t){e.setState({success:"",error:a})}))}else e.setState({error:a})},e.handleChange=function(t){var a="privateProfile"===t.target.name?t.target.checked:t.target.value;e.setState(Object(R.a)({},t.target.name,a))},e.deleteAccount=function(t){t.preventDefault(),U({method:"delete",url:"/api/applicationUsers",headers:{}}).then((function(t){e.setState({success:"account deactivation",error:""}),e.setState({popup:!1}),setTimeout(function(){this.props.logout()}.bind(Object(ue.a)(e)),1e3)})).catch((function(t){e.setState({success:"",error:"account deactivation"})}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return console.log("render state",this.state),r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Settings"),r.a.createElement("hr",{className:"hr-line"}),r.a.createElement("div",{className:""},r.a.createElement("div",null,r.a.createElement("p",null,"Note, changing these settings will redirect back to login.")),r.a.createElement(Me,{description:"username",handleChange:this.handleChange,handleSubmit:this.changeAttr,current:this.props.meUser.username}),r.a.createElement(Me,{description:"password",handleChange:this.handleChange,handleSubmit:this.changeAttr,current:"********"}),r.a.createElement(P.a,null,r.a.createElement(P.a.Text,{className:"text-muted"},"Password must be 8-20 characters. Include numbers, letters, and special characters.")),r.a.createElement("hr",{className:"hr-line"}),r.a.createElement(Me,{description:"email",handleChange:this.handleChange,handleSubmit:this.changeAttr,current:this.props.meUser.email}),r.a.createElement(Me,{description:"city",handleChange:this.handleChange,handleSubmit:this.changeAttr,current:this.props.meUser.city}),r.a.createElement(Me,{description:"country",handleChange:this.handleChange,handleSubmit:this.changeAttr,current:this.props.meUser.country}),r.a.createElement(P.a,null,r.a.createElement(P.a.Row,{className:"align-items-center"},r.a.createElement(A.a,{className:"mb-2"},"Change private status"),r.a.createElement(A.a,null,r.a.createElement(P.a.Check,{type:"checkbox",className:"mb-2 mr-sm-2",id:"inlineFormCheck",label:"privateProfile",name:"privateProfile",defaultChecked:this.props.meUser.privateProfile,onChange:this.handleChange})),r.a.createElement(A.a,null," ",r.a.createElement(b.a,{type:"submit",onClick:function(t){return e.changeAttr(t,"privateProfile")}},"Submit"))),r.a.createElement("br",null),""!==this.state.success?r.a.createElement(P.a.Row,null,r.a.createElement(A.a,null,r.a.createElement(he.a,{variant:"primary",className:"mb-2 mr-sm-2"},this.state.success," changed successfully"))):r.a.createElement(r.a.Fragment,null),""!==this.state.error?r.a.createElement(P.a.Row,null,r.a.createElement(A.a,null,r.a.createElement(he.a,{variant:"danger",className:"mb-2 mr-sm-2"},this.state.error," is required"))):r.a.createElement(r.a.Fragment,null))),r.a.createElement("br",null),r.a.createElement("hr",{className:"hr-line"}),r.a.createElement("div",{className:"center"},r.a.createElement(P.a,null,r.a.createElement(P.a.Row,null,r.a.createElement(A.a,null,r.a.createElement(b.a,{variant:"danger",className:"mb-2 mr-sm-2",onClick:function(){e.setState({popup:!0})}},"Delete Account"))))),r.a.createElement("hr",{className:"hr-line"}),r.a.createElement("div",{className:"space-evenly"},r.a.createElement("a",{target:"_blank",href:"https://github.com/barbinimichael/Kick",rel:"noopener noreferrer"},"About"),r.a.createElement("a",{target:"_blank",href:"https://quiet-inlet-83310.herokuapp.com/",rel:"noopener noreferrer"},"API")),r.a.createElement(ze,{show:this.state.popup,onClose:function(){e.setState({popup:!1})},onDelete:this.deleteAccount}))})}}]),a}(n.Component),Ve={logout:S},We=Object(p.b)((function(e){return{loggedIn:e.loggedIn}}),Ve)(Ke),He=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={comment:"",comments:[]},e.deleteComment=function(e,t){e.preventDefault(),U({method:"delete",url:"/api/commentPosts/".concat(t)}).then((function(e){console.log("comment deleted",e),window.location.reload(!0)})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;U({method:"get",url:"/api/posts/".concat(this.props.match.params.postId,"/comments")}).then((function(t){console.log("comment fetch",t),e.setState({comments:t.data.content})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(x,{middleComponent:r.a.createElement(r.a.Fragment,null,this.state.comments.length>0?this.state.comments.map((function(t,a){return r.a.createElement(z.a,{key:a},r.a.createElement(z.a.Header,null,r.a.createElement(G.a,{width:"30",height:"30",variant:"top",src:Q.a}),t.username," : ",t.comment,t.username===e.props.meUser.username?r.a.createElement(b.a,{className:"ml-auto float-right",onClick:function(a){return e.deleteComment(a,t.id)}},"Delete"):r.a.createElement(r.a.Fragment,null)))})):r.a.createElement(r.a.Fragment,null,"No comments"))})}}]),a}(n.Component),qe=function(){return r.a.createElement(x,{middleComponent:r.a.createElement("div",null,r.a.createElement("h1",null,"404 Error- Page Not Found"))})},Je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:[]},e.getUserInfo=function(){e.props.loggedIn&&U({method:"get",url:"api/applicationUsers/self"}).then((function(t){e.setState({user:t.data})})).catch((function(t){console.log(t),e.props.logout()}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"render",value:function(){return console.log("logged in",this.props.loggedIn),r.a.createElement(u.a,null,this.props.loggedIn?r.a.createElement(L,{meUser:this.state.user}):r.a.createElement("div",null),r.a.createElement(h.d,null,r.a.createElement(Ee,{path:"/",exact:!0,component:ce,meUser:this.state.user}),r.a.createElement(Ee,{path:"/create-post",exact:!0,component:M}),r.a.createElement(Ee,{path:"/message",exact:!0,component:Ne}),r.a.createElement(Ee,{path:"/explore",exact:!0,component:we}),r.a.createElement(Ee,{path:"/search",exact:!0,component:Ae,meUser:this.state.user}),r.a.createElement(Ee,{path:"/user/:username",component:De,meUser:this.state.user}),r.a.createElement(Ee,{path:"/comment/:postId",component:He,meUser:this.state.user}),r.a.createElement(h.b,{path:"/sign-in",exact:!0,component:ge}),r.a.createElement(h.b,{path:"/register",exact:!0,component:Oe}),r.a.createElement(Ee,{path:"/followers/:username",component:Ge,meUser:this.state.user}),r.a.createElement(Ee,{path:"/influencers/:username",component:Te,meUser:this.state.user}),r.a.createElement(Ee,{path:"/post/:postId",component:xe}),r.a.createElement(Ee,{path:"/settings",component:We,meUser:this.state.user,handleChange:this.getUserInfo}),r.a.createElement(h.b,{component:qe})))}}]),a}(n.Component),Ye={login:I,logout:S},$e=Object(p.b)((function(e){return{loggedIn:e.loggedIn}}),Ye)(Je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggingIn:!1,loggedIn:!1,error:!1,registering:!1,registered:!1,errorUsername:!1,errorEmail:!1,errorRegister:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER RESET":e=Object(be.a)(Object(be.a)({},e),{},{registering:!1,registered:!1,errorUsername:!1,errorEmail:!1,errorRegister:!1});break;case"REGISTRATION FAILED":e=Object(be.a)(Object(be.a)({},e),{},{registering:!1,registered:!1,errorUsername:!1,errorEmail:!1,errorRegister:!0});break;case"REGISTER FAILED DUE TO USERNAME":e=Object(be.a)(Object(be.a)({},e),{},{registering:!1,registered:!1,errorUsername:!0,errorEmail:!1});break;case"REGISTER FAILED DUE TO EMAIL":e=Object(be.a)(Object(be.a)({},e),{},{registering:!1,registered:!1,errorUsername:!1,errorEmail:!0});break;case"REGISTERING":e=Object(be.a)(Object(be.a)({},e),{},{registering:!0,registered:!1});break;case"REGISTER SUCCESSFUL":e=Object(be.a)(Object(be.a)({},e),{},{registering:!1,registered:!0,errorUsername:!1,errorEmail:!1});break;case"LOGOUT":e=Object(be.a)(Object(be.a)({},e),{},{loggingIn:!1,loggedIn:!1,error:!1,registering:!1,registered:!1,errorUsername:!1,errorEmail:!1}),localStorage.removeItem("user"),localStorage.removeItem("Authorization"),w.push("/sign-in");break;case"LOGIN RESET":e=Object(be.a)(Object(be.a)({},e),{},{loggingIn:!1,loggedIn:!1,error:!1});break;case"LOGGING IN":e=Object(be.a)(Object(be.a)({},e),{},{loggingIn:!0,loggedIn:!1,error:!1});break;case"LOGIN SUCCESSFUL":e=Object(be.a)(Object(be.a)({},e),{},{loggingIn:!1,loggedIn:!0,error:!1,registering:!1,registered:!1,errorUsername:!1,errorEmail:!1,errorRegister:!1});break;case"LOGIN FAILED":e=Object(be.a)(Object(be.a)({},e),{},{loggingIn:!1,loggedIn:!1,error:!0});break;default:e={loggingIn:!1,loggedIn:!1,error:!1,registering:!1,registered:!1,errorUsername:!1,errorEmail:!1,errorRegister:!1}}return e},Qe=a(28),Xe=a(65),Ze=a(93),et=a.n(Ze),tt=a(94),at=a.n(tt),nt=a(95),rt={key:"root",storage:et.a},ot=Object(Xe.a)(rt,_e),lt=Object(Qe.d)(ot,{},Object(Qe.a)(at.a,nt.a)),ct=Object(Xe.b)(lt),st=a(96);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:lt},r.a.createElement(st.a,{loading:null,persistor:ct},r.a.createElement($e,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},98:function(e,t,a){e.exports=a(132)}},[[98,1,2]]]);
//# sourceMappingURL=main.46f4f1ff.chunk.js.map