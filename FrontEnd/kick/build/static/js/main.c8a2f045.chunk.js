(this.webpackJsonpkick=this.webpackJsonpkick||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),l=a.n(r),c=(a(89),a(5)),s=a(6),i=a(8),u=a(7),m=a(13),p=a(9),h=a(21),d=(a(94),a(95),a(124)),f=a(123),g=a(118),E=a(65),b=a.n(E),v=a(27),k=a.n(v),y=a(14),O=Object(y.a)(),C=a(66),w=a.n(C).a.create({baseURL:"https://quiet-inlet-83310.herokuapp.com/",headers:{Authorization:localStorage.Authorization,"Content-Type":"application/json"}});function j(){return{type:"LOGOUT"}}var U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(d.a,{bg:"light",expand:"lg",fixed:"top"},o.a.createElement(d.a.Brand,{href:"/"},o.a.createElement("img",{src:k.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})," ","Kick"),o.a.createElement(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(d.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(f.a,null,o.a.createElement(f.a.Link,{href:"/message"},"Message")),o.a.createElement(f.a,null,o.a.createElement(f.a.Link,{href:"/explore"},"Explore")),o.a.createElement(f.a,null,o.a.createElement(f.a.Link,{href:"/search"},"Search")),o.a.createElement(f.a,null,o.a.createElement(f.a.Link,{href:"/create-post"},"Create Post")),o.a.createElement(f.a,{className:"ml-auto"},o.a.createElement(d.a.Brand,{href:"/user/me"},o.a.createElement("img",{src:b.a,width:"30",height:"30",className:"d-inline-block align-top",alt:"React Bootstrap logo"})),o.a.createElement(g.a,{onClick:this.props.logout},"Sign Out"))))}}]),a}(n.Component),I={logout:j},L=Object(h.b)((function(e){return{loggedIn:e.loggedIn}}),I)(U),S=a(25),F=a(52),N=a(72),A=a(120),G=a(73),P=a(119),x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(P.a,{fluid:!0},o.a.createElement(A.a,null,o.a.createElement(N.a,{lg:"3"}),this.props.leftComponent?this.props.leftComponent:o.a.createElement(o.a.Fragment,null),o.a.createElement(N.a,{lg:"6"},this.props.middleComponent?this.props.middleComponent:o.a.createElement(o.a.Fragment,null)),o.a.createElement(N.a,{lg:"3",className:"Sidebar sticky-top"},this.props.rightComponent?this.props.rightComponent:o.a.createElement(o.a.Fragment,null)))))}}]),a}(n.Component),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={image:"",caption:"",city:"",country:""},e.handleFileSubmit=function(t){t.preventDefault(),e.setState({image:URL.createObjectURL(t.target.files[0])})},e.onChange=function(t){return e.setState(Object(S.a)({},t.target.name,t.target.value))},e.onPostSubmit=function(t){t.preventDefault();var a={caption:e.state.caption,imageURL:"inDevelopment.com",city:e.state.city,country:e.state.country,postDate:new Date};w({method:"post",url:"api/posts",data:a}).then((function(e){console.log("response",e),O.push("/"),window.location.reload(!0)})).catch((function(t){console.log(t),e.props.handleLogout()}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.caption,a=e.city,n=e.country;return o.a.createElement(x,{middleComponent:o.a.createElement(F.a,null,o.a.createElement(N.a,null,o.a.createElement(A.a,{xs:"6",md:"3",lg:"1"},o.a.createElement(F.a.Group,{controlId:"formImage"},o.a.createElement(G.a,{src:this.state.image,roundedCircle:!0,fluid:!0}))),o.a.createElement(A.a,null,o.a.createElement(F.a.Group,{controlId:"formFile"},o.a.createElement(F.a.File,{id:"formFileImageUpload",label:"Upload a local image",onChange:this.handleFileSubmit,type:"file",accept:".jpg, .png, .jpeg"}))),o.a.createElement(A.a,null,o.a.createElement(F.a.Group,{controlId:"formCaption"},o.a.createElement(F.a.Label,null,"Caption"),o.a.createElement(F.a.Control,{type:"text",placeholder:"Enter a caption",name:"caption",value:t,onChange:this.onChange}))),o.a.createElement(A.a,null,o.a.createElement(F.a.Group,{controlId:"formLocation"},o.a.createElement(F.a.Label,null,"Location"),o.a.createElement(A.a,null,o.a.createElement(N.a,null,o.a.createElement(F.a.Control,{type:"text",placeholder:"City",name:"city",value:a,onChange:this.onChange})),o.a.createElement(N.a,null,o.a.createElement(F.a.Control,{type:"text",placeholder:"Country",name:"country",value:n,onChange:this.onChange}))))),o.a.createElement(A.a,null,o.a.createElement(g.a,{variant:"primary",type:"submit",onClick:this.onPostSubmit},"Post"))))})}}]),a}(n.Component),R=a(125),T=a(76),B=a(41),M=a(74),z=a.n(M),W=a(42),q=a.n(W),H=a(75),J=a.n(H),K=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={comment:""},e.onLike=function(){e.props.liked?e.props.handleUserUnLiked(e.props.post.id):e.props.handleUserLiked(e.props.post.id)},e.onCommentChange=function(t){e.setState({comment:t.target.value})},e.onCommentSubmit=function(t){t.preventDefault(),console.log(e.state.comment),e.props.handleUserCommented(e.props.post.id,e.state.comment)},e.setComments=function(){var t=e.props.post.comments,a=[""];return 0!==t.length&&(a=[t[t.length-1].comment]),a},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(R.a,null,o.a.createElement(R.a.Header,null,o.a.createElement(m.b,{to:"/user/".concat(this.props.post.username)},this.props.post.username)),o.a.createElement(R.a.Img,{variant:"top",src:k.a}),o.a.createElement(R.a.Body,null,o.a.createElement(g.a,{variant:"link",onClick:this.onLike},this.props.liked?o.a.createElement(G.a,{src:q.a,alt:""}):o.a.createElement(G.a,{src:z.a,alt:""})),o.a.createElement(g.a,{variant:"link"},o.a.createElement("img",{src:J.a,alt:""})),o.a.createElement(R.a.Title,null,this.props.post.likes.length," likes"),this.setComments().map((function(e,t){return o.a.createElement(R.a.Text,{key:t},e)})),o.a.createElement(R.a.Text,null,this.props.post.caption),o.a.createElement(R.a.Subtitle,{className:"mb-2 text-muted"},this.props.post.city,", ",this.props.post.country),o.a.createElement("footer",null,this.props.post.postDate)),o.a.createElement(T.a,{className:"mb-3"},o.a.createElement(B.a,{placeholder:"Add a comment...","aria-label":"Comment","aria-describedby":"basic-addon2",onChange:this.onCommentChange}),o.a.createElement(T.a.Append,null,o.a.createElement(g.a,{variant:"outline-secondary",onClick:this.onCommentSubmit},"Post"))))}}]),a}(n.Component),Z=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={feed:[],liked:[],update:!1,privateProfile:!1},e.createFeed=function(){w({method:"get",url:e.props.feedURL}).then((function(t){var a=t.data.content;return e.setState({feed:a}),"Not following or public"===t.data&&e.setState({noPost:!0}),a})).then((function(t){var a=t.map((function(t){return e.handleWhichUserLiked(t)}));Promise.all(a).then((function(t){var a=t.map((function(e){return e.data}));e.setState({liked:a}),e.setState({update:!1})}))})).catch((function(t){console.log(t),e.setState({update:!1})}))},e.handleWhichUserLiked=function(e){return w({method:"get",url:"api/posts/".concat(e.id,"/liked")})},e.handlePostUpdated=function(t,a,n){var o=e.state.feed,r=e.state.liked,l=0,c=o.map((function(e,n){return e.id===a?(console.log("mathicng postId",a),console.log("matching index",n),l=n,t):e}));"comment"!==n&&(r[l]=n),e.setState({feed:c}),e.setState({liked:r})},e.handleUserLiked=function(t){w({method:"post",url:"api/posts/".concat(t,"/likePosts")}).then((function(a){e.handlePostUpdated(a.data,t,!0)}))},e.handleUserUnLiked=function(t){w({method:"delete",url:"api/posts/".concat(t,"/likePosts")}).then((function(a){e.handlePostUpdated(a.data,t,!1)}))},e.handleUserCommented=function(t,a){w({method:"post",url:"api/posts/".concat(t,"/commentPosts"),data:a}).then((function(a){e.handlePostUpdated(a.data,t,"comment")}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.createFeed()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.setState({update:!0})}},{key:"render",value:function(){var e=this;return this.state.update&&this.createFeed(),o.a.createElement("div",null,this.state.feed?this.state.feed.map((function(t,a){return o.a.createElement(K,{key:t.id,id:t.id,post:t,liked:e.state.liked[a],handleUserCommented:e.handleUserCommented,handleUserLiked:e.handleUserLiked,handleUserUnLiked:e.handleUserUnLiked})})):this.state.privateProfile?o.a.createElement("h1",null,"No posts"):o.a.createElement("h1",null,"Private profile"))}}]),a}(n.Component),Y=a(53),$=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).convertTime=function(e){var t=Math.abs(e-new Date)/864e5;return t<1?"Today":Math.floor(t)+"days ago"},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.convertTime(this.props.time))}}]),a}(n.Component),Q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={show:!0},e.handleClose=function(){e.setState({show:!1}),w({method:"delete",url:"/api/likeNotifications/single/".concat(e.props.notification.thePostId)}).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(Y.a,{show:this.state.show,onClose:this.handleClose},o.a.createElement(Y.a.Header,null,o.a.createElement("img",{src:q.a,className:"rounded mr-2",alt:""}),o.a.createElement("strong",{className:"mr-auto"},o.a.createElement(m.b,{to:"/user/".concat(this.props.notification.userLiked)},this.props.notification.userLiked)," ","liked your"," ",o.a.createElement(m.b,{to:"/post/".concat(this.props.notification.thePostId)},"post")),o.a.createElement("small",null,o.a.createElement($,{time:this.props.notification.time}))))}}]),a}(n.Component),V=a(78),X=a.n(V),_=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={show:!0},e.handleClose=function(){e.setState({show:!1}),e.deleteCall()},e.deleteCall=function(){w({method:"delete",url:"/api/followingNotifications/single/".concat(e.props.notification.id)}).catch((function(e){console.log(e)}))},e.handleAccept=function(){e.setState({show:!1}),w({method:"post",url:"/api/followings/".concat(e.props.notification.theFollowingId,"/true")}).then((function(){e.deleteCall()})).catch((function(e){console.log(e)}))},e.handleDelete=function(){e.setState({show:!1}),e.deleteCall()},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(Y.a,{show:this.state.show,onClose:this.handleClose},o.a.createElement(Y.a.Header,null,o.a.createElement("img",{src:X.a,className:"rounded mr-2",alt:""}),o.a.createElement("strong",{className:"mr-auto"},o.a.createElement(m.b,{to:"/user/".concat(this.props.notification.following)},this.props.notification.following)," ","wants to follow you"),o.a.createElement("small",null,o.a.createElement($,{time:this.props.notification.time}))),o.a.createElement(Y.a.Body,null,o.a.createElement(A.a,null,o.a.createElement(N.a,{align:"right"},o.a.createElement(g.a,{onClick:this.handleAccept,size:"sm"},"Accept")),o.a.createElement(N.a,{align:"left"},o.a.createElement(g.a,{onClick:this.handleDelete,variant:"outline-warning",size:"sm"},"Delete")))))}}]),a}(n.Component),ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={likeNotifications:[],followingNotifications:[]},e.createNotifications=function(){var t=e.state.likeNotifications.map((function(e,t){return o.a.createElement(Q,{key:t,notification:e})})),a=e.state.followingNotifications.map((function(e,a){return o.a.createElement(_,{key:a+t.length,notification:e})})),n=function(e,t){return e.time<t.time?-1:e.time===t.time?0:1};return t.sort(n),a.sort(n),a.concat(t)},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.meUser!==e.meUser&&(console.log("dashboard props",this.props.meUser),this.setState({likeNotifications:this.props.meUser.likeNotifications}),this.setState({followingNotifications:this.props.meUser.followingNotifications}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"sticky-top overflow-auto"},o.a.createElement("h1",null,"Dashboard"),this.createNotifications())}}]),a}(n.Component),te=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(P.a,{fluid:!0},o.a.createElement(A.a,null,o.a.createElement(N.a,{lg:"3"}),o.a.createElement(N.a,{lg:"6"},o.a.createElement(Z,{feedURL:"api/posts/feed"})),o.a.createElement(N.a,{lg:"3",className:"Sidebar sticky-top"},o.a.createElement(ee,{meUser:this.props.meUser})))))}}]),a}(n.Component),ae=a(51),ne=a.n(ae),oe=a(79),re=a(30),le=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",failed:!1},n.handleAuthentication=n.handleAuthentication.bind(Object(re.a)(n)),n.handleChange=n.handleChange.bind(Object(re.a)(n)),n}return Object(s.a)(a,[{key:"handleAuthentication",value:function(){var e=Object(oe.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("username",this.state.username),console.log("username",this.state.password),this.props.login(this.state.username,this.state.password);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target.value;this.setState(Object(S.a)({},e.target.name,t))}},{key:"render",value:function(){return o.a.createElement(x,{middleComponent:o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,null,o.a.createElement(F.a.Group,{controlId:"formBasicUsername"},o.a.createElement(F.a.Label,null,"Username"),o.a.createElement(F.a.Control,{type:"username",placeholder:"Enter username",onChange:this.handleChange,name:"username"})),o.a.createElement(F.a.Group,{controlId:"formBasicPassword"},o.a.createElement(F.a.Label,null,"Password"),o.a.createElement(F.a.Control,{type:"password",placeholder:"Password",onChange:this.handleChange,name:"password"})),!0===this.state.failed?o.a.createElement(F.a.Text,{className:"text-muted"},"The username or password you provided was incorrect"):o.a.createElement(o.a.Fragment,null),o.a.createElement(g.a,{variant:"primary",type:"submit",onClick:this.handleAuthentication},"Submit")),o.a.createElement(f.a,{className:"justify-content-center",activeKey:"/home"},o.a.createElement(f.a.Item,null,o.a.createElement(f.a.Link,{href:"/register"},"Don't have an account? Create one"))))})}}]),a}(n.Component),ce={login:function(e,t){return function(a){a({type:"LOGGING IN"}),w({method:"post",url:"/login",data:{username:e,password:t},headers:{}}).then((function(t){console.log(t),a({type:"LOGIN SUCCESSFUL"}),localStorage.setItem("user",e),localStorage.setItem("Authorization",t.headers.authorization),O.push("/"),window.location.reload(!0)})).catch((function(e){console.log(e),a({type:"LOGIN FAILED"})}))}}},se=Object(h.b)((function(e){return{loggedIn:e.loggedIn}}),ce)(le),ie=a(82),ue=function(e){var t=e.component,a=Object(ie.a)(e,["component"]);return o.a.createElement(p.b,Object.assign({},a,{render:function(e){return localStorage.Authorization?o.a.createElement(t,Object.assign({},a,e)):o.a.createElement(p.a,{to:{pathname:"/sign-in",state:{from:e.location}}})}}))},me=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e.handleRegistration=function(){localStorage.setItem("user","username"),localStorage.setItem("Authorization","password"),O.push("/")},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(x,{middleComponent:o.a.createElement(F.a,null,o.a.createElement(F.a.Row,null,o.a.createElement(F.a.Group,{as:N.a,controlId:"formGridEmail"},o.a.createElement(F.a.Label,null,"Email"),o.a.createElement(F.a.Control,{type:"email",placeholder:"Enter email"})),o.a.createElement(F.a.Group,{as:N.a,controlId:"formGridPassword"},o.a.createElement(F.a.Label,null,"Password"),o.a.createElement(F.a.Control,{type:"password",placeholder:"Password"}))),o.a.createElement(F.a.Group,{controlId:"formGridAddress1"},o.a.createElement(F.a.Label,null,"Address"),o.a.createElement(F.a.Control,{placeholder:"1234 Main St"})),o.a.createElement(F.a.Group,{controlId:"formGridAddress2"},o.a.createElement(F.a.Label,null,"Address 2"),o.a.createElement(F.a.Control,{placeholder:"Apartment, studio, or floor"})),o.a.createElement(F.a.Row,null,o.a.createElement(F.a.Group,{as:N.a,controlId:"formGridCity"},o.a.createElement(F.a.Label,null,"City"),o.a.createElement(F.a.Control,null)),o.a.createElement(F.a.Group,{as:N.a,controlId:"formGridState"},o.a.createElement(F.a.Label,null,"State"),o.a.createElement(F.a.Control,{as:"select",value:"Choose..."},o.a.createElement("option",null,"Choose..."),o.a.createElement("option",null,"..."))),o.a.createElement(F.a.Group,{as:N.a,controlId:"formGridZip"},o.a.createElement(F.a.Label,null,"Zip"),o.a.createElement(F.a.Control,null))),o.a.createElement(F.a.Group,{id:"formGridCheckbox"},o.a.createElement(F.a.Check,{type:"checkbox",label:"Check me out"})),o.a.createElement(g.a,{variant:"primary",type:"submit",onClick:this.handleRegistration},"Submit"))})}}]),a}(n.Component),pe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(x,{middleComponent:o.a.createElement("h1",null,"Explore")})}}]),a}(n.Component),he=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(x,{middleComponent:o.a.createElement("h1",null,"Message")})}}]),a}(n.Component),de=a(121),fe=a(122),ge=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={following:"not following"},e.checkFollowing=function(){w({method:"get",url:"/api/followings/check/".concat(e.props.user.username)}).then((function(t){console.log("Following",t),e.setState({following:t.data})})).catch((function(e){console.log(e)}))},e.handleFollow=function(){w({method:"post",url:"/api/followings/".concat(e.props.user.username)}).then((function(){e.checkFollowing()})).catch((function(e){console.log(e)}))},e.handleDeleteFollow=function(){w({method:"delete",url:"/api/followings/follower/deleting/influencer/".concat(e.props.meUsername,"/").concat(e.props.user.username)}).then((function(){e.checkFollowing()})).catch((function(e){console.log(e)}))},e.createFollowingBanner=function(){return e.props.meUsername===e.props.user.username?o.a.createElement(de.a,{pill:!0,variant:"primary"},"You!"):"following"===e.state.following?o.a.createElement(g.a,{onClick:e.handleDeleteFollow,size:"sm"},"UnFollow"):"requested following"===e.state.following?o.a.createElement(de.a,{pill:!0},"Requested"):o.a.createElement(g.a,{onClick:e.handleFollow,size:"sm"},"Follow")},e.checkActualFollowerCount=function(e){var t=0;return e.map((function(e){e.accepted&&t++})),t},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.checkFollowing()}},{key:"render",value:function(){var e="Followers";return this.props.user.whereIsInfluencer&&1===this.props.user.whereIsInfluencer.length&&(e="Follower"),console.log("User card",this.props.user),o.a.createElement(fe.a,null,o.a.createElement(G.a,{src:k.a,width:"75",height:"75",className:"d-inline-block center",alt:"React Bootstrap logo"}),o.a.createElement(m.b,{to:"/user/".concat(this.props.user.username)},this.props.user.username),"    ",this.props.user.privateProfile?o.a.createElement(o.a.Fragment,null,o.a.createElement(de.a,{pill:!0,variant:"warning"},"Private")):o.a.createElement(de.a,{pill:!0,variant:"success"},"Public"),"    ",this.createFollowingBanner(),o.a.createElement("div",null,this.props.user.city,", ",this.props.user.country),o.a.createElement(P.a,null,o.a.createElement(A.a,null,o.a.createElement(N.a,{align:"right"},this.props.user.whereIsInfluencer?o.a.createElement(m.b,{to:"/followers/".concat(this.props.user.username)},this.checkActualFollowerCount(this.props.user.whereIsInfluencer)," ",e):"0 Followers"),o.a.createElement(N.a,{align:"left"},this.props.user.whereIsFollower?o.a.createElement(m.b,{to:"/influencers/".concat(this.props.user.username)},this.checkActualFollowerCount(this.props.user.whereIsFollower)," ","Following"):"0 Following"))),o.a.createElement("hr",{className:"hr-line"}),o.a.createElement("p",{className:"less-margin"},o.a.createElement("b",null,this.props.user.firstName," ",this.props.user.lastName)),o.a.createElement("p",{className:"less-margin"},this.props.user.biography))}}]),a}(n.Component),Ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={feed:[],update:!1},e.createFeed=function(){console.log("props",e.props.feedURL),w({method:"get",url:e.props.feedURL}).then((function(t){console.log("User feed response",t);var a=t.data.content;e.setState({feed:a}),e.setState({update:!1})})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.createFeed()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.setState({update:!0})}},{key:"render",value:function(){var e=this;return this.state.update&&this.createFeed(),o.a.createElement("div",null,this.state.feed.map((function(t){return o.a.createElement(ge,{user:t,meUsername:e.props.meUser.username})})))}}]),a}(n.Component),be=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={search:"",selectedOption:"userToggle"},e.searchTerm=function(e){return"?search="+e},e.onChange=function(t){return e.setState(Object(S.a)({},t.target.name,t.target.value))},e.onRadioToggle=function(t){e.setState({selectedOption:t.target.value})},e}return Object(s.a)(a,[{key:"render",value:function(){console.log("state",this.state);var e=this.state.search;return o.a.createElement(x,{middleComponent:o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{className:"sticky-top"},o.a.createElement(T.a,{className:"mb-3"},o.a.createElement(B.a,{placeholder:"Search...","aria-label":"Search...","aria-describedby":"search",name:"search",value:e,onChange:this.onChange}))),o.a.createElement(A.a,null,o.a.createElement(N.a,{align:"right"},o.a.createElement(F.a.Check,{label:"Users",type:"radio",id:"user-radio",value:"userToggle",onChange:this.onRadioToggle,checked:"userToggle"===this.state.selectedOption})),o.a.createElement(N.a,{align:"left"},o.a.createElement(F.a.Check,{label:"Posts",type:"radio",id:"post-radio",value:"postToggle",onChange:this.onRadioToggle,checked:"postToggle"===this.state.selectedOption}))),""!==this.state.search&"postToggle"===this.state.selectedOption?o.a.createElement(Z,{feedURL:"/api/posts/search?search=".concat(this.state.search)}):o.a.createElement(o.a.Fragment,null),""!==this.state.search&"userToggle"===this.state.selectedOption?o.a.createElement(Ee,{feedURL:"/api/applicationUsers/search?search=username:*".concat(this.state.search,"*"),meUser:this.props.meUser}):o.a.createElement(o.a.Fragment,null))})}}]),a}(n.Component),ve=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={user:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;"me"!==this.props.match.params.username&&w({method:"get",url:"/api/applicationUsers/username/".concat(this.props.match.params.username)}).then((function(t){console.log("user profile fetch",t);var a=t.data;e.setState({user:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement(x,{middleComponent:o.a.createElement(o.a.Fragment,null,"me"===this.props.match.params.username?o.a.createElement(o.a.Fragment,null,o.a.createElement(ge,{user:this.props.meUser}),o.a.createElement(Z,{feedURL:"/api/posts/user/"+this.props.meUser.username})):o.a.createElement(o.a.Fragment,null,o.a.createElement(ge,{user:this.state.user,meUsername:this.props.meUser.username}),o.a.createElement(Z,{feedURL:"/api/posts/user/"+this.props.match.params.username})))})}}]),a}(n.Component),ke=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(x,{middleComponent:o.a.createElement(Ee,{feedURL:"/api/followings/followers/".concat(this.props.match.params.username),meUser:this.props.meUser})})}}]),a}(n.Component),ye=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(x,{middleComponent:o.a.createElement(Ee,{feedURL:"/api/followings/influencers/".concat(this.props.match.params.username),meUser:this.props.meUser})})}}]),a}(n.Component),Oe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={post:[],liked:!1},e.getPost=function(){w({method:"get",url:"/api/posts/".concat(e.props.match.params.postId)}).then((function(t){e.setState({post:t.data}),w({method:"get",url:"api/posts/".concat(t.data.id,"/liked")}).then((function(t){e.setState({liked:t.data})}))})).catch((function(e){console.log(e)}))},e.handleUserLiked=function(t){w({method:"post",url:"api/posts/".concat(t,"/likePosts")}).then((function(t){e.setState({post:t.data}),e.setState({liked:!0})}))},e.handleUserUnLiked=function(t){w({method:"delete",url:"api/posts/".concat(t,"/likePosts")}).then((function(t){e.setState({post:t.data}),e.setState({liked:!1})}))},e.handleUserCommented=function(t,a){w({method:"post",url:"api/posts/".concat(t,"/commentPosts"),data:a}).then((function(t){e.setState({post:t.data})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.getPost()}},{key:"render",value:function(){console.log("Post page",this.state.post),console.log("Post page likes",this.state.liked);var e=this.state.post,t=this.state.liked;return 0!==this.state.post.length?o.a.createElement(x,{middleComponent:o.a.createElement(K,{key:e.id,id:e.id,post:e,liked:t,handleUserCommented:this.handleUserCommented,handleUserLiked:this.handleUserLiked,handleUserUnLiked:this.handleUserUnLiked})}):o.a.createElement(o.a.Fragment,null)}}]),a}(n.Component),Ce=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"404 Error- Page Not Found"))},we=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={user:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.loggedIn&&w({method:"get",url:"api/applicationUsers/self"}).then((function(t){e.setState({user:t.data})})).catch((function(t){console.log(t),e.props.logout()}))}},{key:"render",value:function(){return o.a.createElement(m.a,null,this.props.loggedIn?o.a.createElement(L,null):o.a.createElement("div",null),o.a.createElement(p.d,null,o.a.createElement(ue,{path:"/",exact:!0,component:te,meUser:this.state.user}),o.a.createElement(ue,{path:"/create-post",exact:!0,component:D}),o.a.createElement(ue,{path:"/message",exact:!0,component:he}),o.a.createElement(ue,{path:"/explore",exact:!0,component:pe}),o.a.createElement(ue,{path:"/search",exact:!0,component:be,meUser:this.state.user}),o.a.createElement(ue,{path:"/user/:username",component:ve,meUser:this.state.user}),o.a.createElement(p.b,{path:"/sign-in",exact:!0,component:se}),o.a.createElement(p.b,{path:"/register",exact:!0,component:me}),o.a.createElement(ue,{path:"/followers/:username",component:ke,meUser:this.state.user}),o.a.createElement(ue,{path:"/influencers/:username",component:ye,meUser:this.state.user}),o.a.createElement(ue,{path:"/post/:postId",component:Oe}),o.a.createElement(p.b,{component:Ce})))}}]),a}(n.Component),je={logout:j},Ue=Object(h.b)((function(e){return{loggedIn:e.loggedIn}}),je)(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=a(18),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedIn:!1,loggingIn:!1,error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT":console.log("user reducer, called LOGOUT"),e=Object(Ie.a)(Object(Ie.a)({},e),{},{loggingIn:!1,loggedIn:!1,error:!1}),localStorage.removeItem("user"),localStorage.removeItem("Authorization"),O.push("/sign-in");break;case"LOGGING IN":console.log("user reducer, called LOGGING IN"),e=Object(Ie.a)(Object(Ie.a)({},e),{},{loggingIn:!0,loggedIn:!1,error:!1});break;case"LOGIN SUCCESSFUL":console.log("user reducer, called LOGIN SUCCESS"),e=Object(Ie.a)(Object(Ie.a)({},e),{},{loggingIn:!1,loggedIn:!0,error:!1});break;case"LOGIN FAILED":console.log("user reducer, called LOGIN FAIL"),e=Object(Ie.a)(Object(Ie.a)({},e),{},{loggingIn:!1,loggedIn:!1,error:!0});break;default:console.log("authentication reducer, reached default case"),e=Object(Ie.a)(Object(Ie.a)({},e),{},{loggingIn:!1,loggedIn:!0,error:!1})}return e},Se=a(32),Fe=a(80),Ne=a.n(Fe),Ae=a(81),Ge=Object(Se.c)(Le,{},Object(Se.a)(Ne.a,Ae.a));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h.a,{store:Ge},o.a.createElement(Ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},84:function(e,t,a){e.exports=a(116)},89:function(e,t,a){},94:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.c8a2f045.chunk.js.map